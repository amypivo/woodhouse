<!DOCTYPE html>
<title>Woodhouse</title>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32877867-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<link type="text/css" rel="stylesheet" href="http://mboeh.com/site.css">

<body><div id="wrap">
<h1><a href="/">Woodhouse</a></h1>
<p class="view"><a href="https://github.com/mboeh/woodhouse">View the Project on GitHub</p>
<p><a href="http://rdoc.info/github/mboeh/woodhouse/frames">View RDoc</a></p>
<p><a href="http://travis-ci.org/mboeh/woodhouse"><img src="https://secure.travis-ci.org/mboeh/woodhouse.png?branch=master" alt="Build Status"></a></p>


<p>A RabbitMQ-based worker system for Ruby designed to help with the backgrounding of both simple and complicated tasks.</p>

<h2>Install</h2>

<p>First you need to have <a href="http://rabbitmq.com">RabbitMQ</a> installed. If you're on a recent Debian/Ubuntu-based system, the system package will work:</p>

<pre>
  # apt-get install rabbitmq-server
</pre>

<p>After that, you just have to add Woodhouse to your application.</p>

<p><strong>In your Gemfile:</strong></p>

<pre>
  gem "woodhouse", "~> 0.1.0"
</pre>


<p><strong>If you're using Rails:</strong></p>

<pre>
  % rails generate woodhouse
</pre>

<p>Woodhouse provides reliable and sane performance in situations where jobs from a single application may vary significantly
in length. The goal is to permit large numbers of quick jobs to be serviced even when many slow jobs are in the queue. A secondary
goal is to provide an easy way for jobs on a given queue to be given special priority or dispatched to a server more suited to them.</p>

<p>Woodhouse 0.0.x is production-ready for Rails 2 and Ruby 1.8, while 0.1.x is production-ready for Ruby 1.9. Ruby 2.0 support is being validated, but shouldn't be a problem.</p>

<p>Please look at the <a href="https://github.com/mboeh/woodhouse/wiki">wiki</a> for documentation.</p>

<h2>Compatibility Notes</h2>

<p>JRuby 1.7.3 has a threading bug that breaks libraries and applications based on Celluloid, such as Woodhouse. JRuby 1.7.2 is safe. I've encountered issues related to JRuby 1.7.4, but I'm not sure yet whether it's an issue with Woodhouse, Celluloid, or my app. <b>JRuby 1.7.2 is currently the recommended Ruby version for Woodhouse.</b></p>

<h2>Features</h2>

<ul>
<li>Configurable worker sets per server</li>
<li>Configurable number of threads per worker</li>
<li>Segmenting a single queue among multiple workers based on job characteristics (using AMQP header exchanges)</li>
<li><a href="https://github.com/mboeh/woodhouse/wiki/Extensions">Extension system</a></li>
<li>Progress reporting on jobs with the <code><a href="https://github.com/mboeh/woodhouse/wiki/Extensions">progress</a></code> extension</li>
<li>New Relic background job reporting with the <code><a href="https://github.com/mboeh/woodhouse/wiki/Extensions">new_relic</a></code> extension</li>
<li>Live status reporting with the <code><a href="https://github.com/mboeh/woodhouse-status">status</a></code> extension</li>
<li>Inter-application communication with the <code><a href="https://github.com/mboeh/woodhouse-external">external</a></code> extension</li>
<li>Job dispatch and execution middleware stacks</li>
</ul>

<h2>Upcoming</h2>

<ul>
<li>Live reconfiguration of workers -- add or remove workers across one or more nodes without restarting</li>
<li>Persistent configuration changes -- configuration changes saved to a data store and kept across deploys</li>
<li>Web interface</li>
</ul><h2>Acknowledgements</h2>

<p>Woodhouse originated in a substantially modified version of the Workling background worker system, although all code has since
been replaced, and backwards compatibility is not provided.</p>

<p>This library was developed for <a href="http://crowdcompass.com">CrowdCompass</a> and was released as open source with their permission.</p>
</div></body>
